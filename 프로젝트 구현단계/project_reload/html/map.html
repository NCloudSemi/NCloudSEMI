
    <!--custom css-->
    <link rel="stylesheet" href="css/map.css">
    <!--ÌÜµÌãÄ-->
    <div class="d-flex" id="main">
        <!--ÏßÄÎèÑÏòÅÏó≠-->
        <div class="mapArea"  style="margin-left: 300px;">
          <!--Í≤ÄÏÉâ ÏòÅÏó≠-->
          <div id="serchArea">
            <div class="input-group" >
                <span class="input-group-text" id="serch">
                  <img src="img/serch.svg" width="30px" height="30px" alt="">
                </span>
                <input type="text" class="form-control" placeholder="Í≤ÄÏÉâ" id="serchBar">
            </div> 
          </div>
          <!-- Ïπ¥Ïπ¥Ïò§ ÏßÄÎèÑ Îõ∞Ïö∞Í∏∞-->
          <div id="kakaoMap">
             <!--Ïà®Í≤®ÏßÄÎÇò?-->
             <div class="" id="info_display">
              <div class="d-flex h-50 w-100 p-4 rounded" id="main-info" style="background-color: white;" >
                   <!--ÏÇ¨ÏßÑ-->
                   <a href="" class="border-1 rounded bg-light  w-50 h-100" id="main-info-img"></a>
                   
                   <!--Ïù¥Î¶Ñ ,Î≥ÑÏ†ê ,Ï†ÑÌôîÎ≤àÌò∏ Î≤ÑÌäº 2Í∞ú-->
                   <div class="d-flex flex-column justify-content-center align-items-center w-50 p-4 m-4" id="main-info-content" >
                        <p id="info-title"></p>
                        <p id="adress"></p>
                        <p id="phone"></p>
                        <p id="star">4.2 / 5.0</p>
                        <p id="price">40000~50000 / 1Day</p>
                        <div class="d-flex" >
                          <button type="button" id="booking">ÏòàÏïΩ</button>
                          <button type="button" id="edit_card">ÎÅå Ïì∞ÎÅº</button>
                        </div>
                   </div>
              </div>
              <div>
                <!--ÌïúÏ§ÑÌèâ-->
                <input type="text" class="form-control w-100 " placeholder="ÌïúÏ§ÑÌèâ" id="commentBar" style="margin: 10px 0;">
              </div>
              <!--ÍµêÏ≤¥Ïö© Í∞àÍ∞àÏù¥-->
              <div class="d-flex h-50 w-100"  id="info_conent">
                <!--default ÌïúÏ§ÑÌèâ-->
                <ul id="comment_area">
                             
                </ul>
              </div>
             </div>

          </div>
          
        </div>
        <!---->
        <div class="" style="margin-left: 30px;">
          <div class="top3-area d-flex flex-column align-items-center">
              <!-- Î∞∞ÎÑà -->
              <div class="banner text-center mt-5 mb-5">
                  <img src="img/Top3-Travel-Area.gif" alt="top3-area" class="img-fluid">
              </div>
              <!-- Ïπ¥Îìú ÏÑπÏÖò -->
              <div class="card-container" style="max-width: 400px; width: 100%; height: 200px;">
                  <!-- Ïπ¥Îìú 1 -->
                  <div class="card" id="card1">
                      <div id="carouselExampleIndicators1" class="carousel slide" data-bs-ride="carousel">
                          <div class="carousel-indicators">
                              <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                              <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="1" aria-label="Slide 2"></button>
                              <button type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide-to="2" aria-label="Slide 3"></button>
                          </div>
                          <div class="carousel-inner">
                              <div class="carousel-item active">
                                  <img src="img/ÌïòÎäòÏûêÏ†ÑÍ±∞1.png" class="d-block w-100 fixed-height" alt="ÌïòÎäòÏûêÏ†ÑÍ±∞1">
                              </div>
                              <div class="carousel-item">
                                  <img src="img/ÌïòÎäòÏûêÏ†ÑÍ±∞2.png" class="d-block w-100 fixed-height" alt="ÌïòÎäòÏûêÏ†ÑÍ±∞2">
                              </div>
                              <div class="carousel-item">
                                  <img src="img/ÌïòÎäòÏûêÏ†ÑÍ±∞3.png" class="d-block w-100 fixed-height" alt="ÌïòÎäòÏûêÏ†ÑÍ±∞3">
                              </div>
                          </div>
                          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Previous</span>
                          </button>
                          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Next</span>
                          </button>
                      </div>
                      <div class="card-body" style="text-align: center;">
                          <h5 class="card-title">‚òÅÔ∏èÌïòÎäò ÏûêÏ†ÑÍ±∞‚òÅÔ∏è</h5>
                          <p class="card-text">‚òÅÔ∏èÍµ¨Î¶Ñ ÏúÑÎ•º Ïó¨ÌñâÌïòÎäî Í≤É Í∞ôÏïòÏñ¥üòö</p>
                      </div>
                  </div>
                  <!-- Ïπ¥Îìú 2 -->
                  <div class="card d-none" id="card2">
                      <div id="carouselExampleIndicators2" class="carousel slide" data-bs-ride="carousel">
                          <div class="carousel-indicators">
                              <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                              <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="1" aria-label="Slide 2"></button>
                              <button type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide-to="2" aria-label="Slide 3"></button>
                          </div>
                          <div class="carousel-inner">
                              <div class="carousel-item active">
                                  <img src="img/Í∞ïÎ¶â1.jpg" class="d-block w-100 fixed-height" alt="Í∞ïÎ¶â1">
                              </div>
                              <div class="carousel-item">
                                  <img src="img/Í∞ïÎ¶â2.jpg" class="d-block w-100 fixed-height" alt="Í∞ïÎ¶â2">
                              </div>
                              <div class="carousel-item">
                                  <img src="img/Í∞ïÎ¶â3.jpg" class="d-block w-100 fixed-height" alt="Í∞ïÎ¶â3">
                              </div>
                              <div class="carousel-item">
                                  <img src="img/Í∞ïÎ¶â4.jpg" class="d-block w-100 fixed-height" alt="Í∞ïÎ¶â4">
                              </div>
                          </div>
                          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Previous</span>
                          </button>
                          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Next</span>
                          </button>
                      </div>
                      <div class="card-body" style="text-align: center;">
                          <h5 class="card-title">Íµ≠ÎÇ¥Ïó¨ÌñâÏßÄ ÎøåÏãúÍ∏∞üëäÌîÑÎ°úÏ†ùÌä∏ in„ÄêÍ∞ï Î¶â„Äë</h5>
                          <p class="card-text">Ïãú~ÏõêÌïú Î∞îÎã§üåäÍ∞Ä ÏûàÎäî<br>Í∞ïÎ¶âÏúºÎ°ú Îñ†ÎÇú ÎÇ†üòé</p>
                      </div>
                  </div>
                  <!-- Ïπ¥Îìú 3 -->
                  <div class="card d-none" id="card3">
                      <div id="carouselExampleIndicators3" class="carousel slide" data-bs-ride="carousel">
                          <div class="carousel-indicators">
                              <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                              <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="1" aria-label="Slide 2"></button>
                              <button type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide-to="2" aria-label="Slide 3"></button>
                          </div>
                          <div class="carousel-inner">
                              <div class="carousel-item active">
                                  <img src="img/Ï†ÑÏ£º1.jpg" class="d-block w-100 fixed-height" alt="Ï†ÑÏ£º1">
                              </div>
                              <div class="carousel-item">
                                  <img src="img/Ï†ÑÏ£º2.jpg" class="d-block w-100 fixed-height" alt="Ï†ÑÏ£º2">
                              </div>
                          </div>
                          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Previous</span>
                          </button>
                          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators3" data-bs-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Next</span>
                          </button>
                      </div>
                      <div class="card-body" style="text-align: center;">
                          <h5 class="card-title">Íµ≠ÎÇ¥Ïó¨ÌñâÏßÄ ÎøåÏãúÍ∏∞üëäÌîÑÎ°úÏ†ùÌä∏ in „ÄêÏ†Ñ Ï£º„Äë</h5>
                          <p class="card-text">ÏïÑÎ¶ÑÎã§Ïö¥ ÏûêÏó∞Í≤ΩÍ¥ÄÎì§Í≥º Í≥†ÌíçÏä§Îü¨Ïö¥ ÌïúÏò•Îì§Ïù¥<br>Ï¶êÎπÑÌïú Ï†ÑÏ£º</p>
                      </div>
                  </div>
              </div>
          </div>
        </div>
    </div>
    <script>
       $(()=>{
           //navbar Í¥ÄÎ†® Ïä§ÌÅ¨Î¶ΩÌä∏

            let swich_flag ='Korea'
            const categoryData ={
               Forigin: ['Íµ≠Í∞ÄÎ≥Ñ','Í∞ÄÍ≤©Î≥Ñ'],
               Korea: ['ÏßÄÏó≠Î≥Ñ','Í∞ÄÍ≤©Î≥Ñ']     
            }
            
            const optionData ={
              Area : ['ÏÑúÏö∏','Ï†úÏ£º','Ï†ÑÎÇ®','Ï†ÑÎ∂Å','Í¥ëÏ£º','Í≤ΩÎÇ®','Í≤ΩÎ∂Å','Ïö∏ÏÇ∞','ÎåÄÍµ¨','Î∂ÄÏÇ∞','Ï∂©ÎÇ®','Ï∂©Î∂Å','ÏÑ∏Ï¢Ö','ÎåÄÏ†Ñ','Ïù∏Ï≤ú'],
              priceCap :['3ÎßåÏõê Ïù¥Ìïò', '3~5ÎßåÏõê', '5~7ÎßåÏõê', '7ÎßåÏõê Ïù¥ÏÉÅ'],
              recommend :  ['‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê', '‚≠ê‚≠ê‚≠ê‚≠ê', '‚≠ê‚≠ê‚≠ê', '‚≠ê‚≠ê', '‚≠ê'],
              Area_Forigin : ['aa','bb','cc','dd','ee','ff','gg','hh','ii']
            }
            
            //Ï∂îÍ∞Ä ÏòàÏ†ï
            const areaPosition  = {
               ÏÑúÏö∏: [37.56356944444444, 126.98000833333333],
               Ï†úÏ£º: [33.48569444444445, 126.50033333333333],
               Ï†ÑÎÇ®: [34.813044444444444, 126.465],
               Ï†ÑÎ∂Å: [35.81727, 127.11105277777777],
               Í∞ïÏõê: [38.642618, 127.170231],
               Í¥ëÏ£º: [35.156974999999996, 126.85336388888888],
               Í≤ΩÍ∏∞: [35.23473611111111, 128.69416666666666],
               Ïö∏ÏÇ∞: [35.53540833333333, 129.3136888888889],
               ÎåÄÍµ¨: [35.868541666666665, 128.60355277777776],
               Î∂ÄÏÇ∞: [35.17701944444444, 129.07695277777776],
               Ï∂©ÎÇ®: [36.32387222222223, 127.42295555555556],
               Ï∂©Î∂Å: [36.6325, 127.49358611111111],
               ÏÑ∏Ï¢Ö: [36.4800121, 127.2890691],
               Í≤ΩÎ∂Å: [36.491286, 128.889433],
               Í≤ΩÎÇ®: [35.459369, 128.214826],
               ÎåÄÏ†Ñ: [36.347119444444445, 127.38656666666667],
               Ïù∏Ï≤ú: [37.45323333333334, 126.70735277777779]
            }
            
            //test ÎÇòÏ§ëÏóê DBÏóêÏÑú Îï°Í≤®Ïò§Í∏∞
            const marKerdataDB ={
              ÏÑúÏö∏: [{ name:"ÏÑúÏö∏TEST", wh:[37.56356944444444, 126.98000833333333]}]
            }

            //Í≤ÄÏÉâ
            let markers = []; //Í≤ÄÏÉâÎêú ÎßàÏª§Îì§ Î≥¥Í¥ÄÏö©
            const serchFillter ={ //ÌïÑÌÑ∞Ïö©
                Area: 'ÏÑúÏö∏',
                priceCap: null,
                grade:0
            }

           //Ïπ¥Ïπ¥Ïò§ ÏßÄÎèÑ
           const mapContainer = document.getElementById('kakaoMap')
           const mapOption = { 
              center: new kakao.maps.LatLng(37.56356944444444, 126.98000833333333), // ÏßÄÎèÑÏùò Ï§ëÏã¨Ï¢åÌëú
              level: 3 // ÏßÄÎèÑÏùò ÌôïÎåÄ Î†àÎ≤®
           };
           const kakaoMap = new kakao.maps.Map(mapContainer, mapOption); 
           //ÏßÄÎèÑ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
           kakao.maps.event.addListener(kakaoMap, 'click', function(mouseEvent) { 
            $('#info_display').css('right','-100%')
            $('#info_conent').empty()
           }) 

           //ÏúÑÏπò Í≤ÄÏÉâÏÑúÎπÑÏä§
           const pleaceService = new kakao.maps.services.Places();  
           
           //ÎßàÏª§ Ïù¥Î¶Ñ Îõ∞Ïö∏Í±∞
           const infowindow = new kakao.maps.InfoWindow({zIndex:1});

           //navOption item  Ïù¥Î≤§Ìä∏
           const nevOptionItemFun =  function() {
              let centerPosition = areaPosition[$(this).text()];

              //filtering
              serchFillter['Area'] = $(this).text()
              //Ïù¥ÎèôÌï† ÏúÑÏπò
              if($('#serchBar').val() !='')
              {
               serchingData()
              }
              else{
               const moveLatLon = new kakao.maps.LatLng(centerPosition[0], centerPosition[1]);
               kakaoMap.setCenter(moveLatLon);
              }
              
           }


            //kakao Í≤ÄÏÉâÍ¥ÄÎ†® Ïù¥Î≤§Ìä∏
            const serchingData = () =>{
              const serchValue = $('#serchBar').val()
              //Í≤ÄÏÉâÏ∞Ω ÎπÑÏõåÏ†∏ ÏûàÎäîÏßÄ
              if(serchValue ===''){
                   console.log('no_serch_Value')
                   return
              }

              //serch options
              const option ={
                radius: parseInt(5000),
              }
              const f_a =serchFillter['Area']
              if( f_a != null){
                option['location'] = new kakao.maps.LatLng(areaPosition[f_a][0], areaPosition[f_a][1])
              }
              pleaceService.keywordSearch(serchValue,placesSearchCB,option);

            }
             

            // Ïû•ÏÜåÍ≤ÄÏÉâ Í≤∞Í≥º ÌôïÏù∏
            function placesSearchCB(data, status, pagination) {
              console.log(data)
              if (status === kakao.maps.services.Status.OK) {
                 filtered_data = dataFiltering(data)
                 if(filtered_data.length == 0)
                 {
                   console.log("no Data")
                   return;
                 }
                 displayPlaces(filtered_data)
              } else if (status === kakao.maps.services.Status.ZERO_RESULT || status === kakao.maps.services.Status.ERROR) {
                  console.log("no Data or Serch Error")
                  return;
              }
            }
            
            //Îç∞Ïù¥ÌÑ∞ ÌïÑÌÑ∞ÎßÅ
            dataFiltering = (data) =>{
              let new_data =[]
              data.forEach(di => {
                const adress =di["address_name"].split(' ')

                if(adress[0].indexOf(serchFillter['Area']) !== -1 || serchFillter['Area'] === null) 
                    new_data.push(di);
              });
              return new_data
            }

            //ÎßàÏª§ Îõ∞Ïö∞Í∏∞
            // Í≤ÄÏÉâ Í≤∞Í≥º Î™©Î°ùÍ≥º ÎßàÏª§Î•º ÌëúÏ∂úÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
            function displayPlaces(places) {

                  bounds = new kakao.maps.LatLngBounds(), 
                  // ÏßÄÎèÑÏóê ÌëúÏãúÎêòÍ≥† ÏûàÎäî ÎßàÏª§Î•º Ï†úÍ±∞Ìï©ÎãàÎã§
                  removeMarker();

                  for ( let i=0; i<places.length; i++ ) {

                      // ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† ÏßÄÎèÑÏóê ÌëúÏãúÌï©ÎãàÎã§
                      const placePosition = new kakao.maps.LatLng(places[i].y, places[i].x)
                      const marker = addMarker(placePosition, i)
                      // Í≤ÄÏÉâÎêú Ïû•ÏÜå ÏúÑÏπòÎ•º Í∏∞Ï§ÄÏúºÎ°ú ÏßÄÎèÑ Î≤îÏúÑÎ•º Ïû¨ÏÑ§Ï†ïÌïòÍ∏∞ÏúÑÌï¥
                      // LatLngBounds Í∞ùÏ≤¥Ïóê Ï¢åÌëúÎ•º Ï∂îÍ∞ÄÌï©ÎãàÎã§
                      bounds.extend(placePosition);

                      // ÎßàÏª§ÏôÄ Í≤ÄÏÉâÍ≤∞Í≥º Ìï≠Î™©Ïóê mouseover ÌñàÏùÑÎïå
                      // Ìï¥Îãπ Ïû•ÏÜåÏóê Ïù∏Ìè¨ÏúàÎèÑÏö∞Ïóê Ïû•ÏÜåÎ™ÖÏùÑ ÌëúÏãúÌï©ÎãàÎã§
                      // mouseout ÌñàÏùÑ ÎïåÎäî Ïù∏Ìè¨ÏúàÎèÑÏö∞Î•º Îã´ÏäµÎãàÎã§
                      (function(marker, place) {
                          kakao.maps.event.addListener(marker, 'mouseover', function() {
                            markerImage = new kakao.maps.MarkerImage('img/marker_active.svg',new kakao.maps.Size(31, 35), new kakao.maps.Point(13, 34));
                            marker.setImage( markerImage)
                            displayMinInfo(marker, place.place_name);
                          });

                          kakao.maps.event.addListener(marker, 'mouseout', function() {
                              markerImage = new kakao.maps.MarkerImage('img/marker.svg',new kakao.maps.Size(31, 35), new kakao.maps.Point(13, 34));
                              marker.setImage(markerImage )
                              infowindow.close();
                          });

                          kakao.maps.event.addListener(marker, 'click', function() {
                             displayInfo(marker, place);
                          });

                      })(marker, places[i]);
                  }
                  // Í≤ÄÏÉâÎêú Ïû•ÏÜå ÏúÑÏπòÎ•º Í∏∞Ï§ÄÏúºÎ°ú ÏßÄÎèÑ Î≤îÏúÑÎ•º Ïû¨ÏÑ§Ï†ïÌï©ÎãàÎã§
                  kakaoMap.setBounds(bounds);
            }



            // ÎßàÏª§Î•º ÏÉùÏÑ±ÌïòÍ≥† ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏãúÌïòÎäî Ìï®ÏàòÏûÖÎãàÎã§
            function addMarker(position, idx, title) {
                  const imageSrc = 'img/marker.svg'// ÎßàÏª§ Ïù¥ÎØ∏ÏßÄ url, Ïä§ÌîÑÎùºÏù¥Ìä∏ Ïù¥ÎØ∏ÏßÄÎ•º ÏîÅÎãàÎã§
                  const    imageSize = new kakao.maps.Size(36, 37) // ÎßàÏª§ Ïù¥ÎØ∏ÏßÄÏùò ÌÅ¨Í∏∞        
                  const   markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize)
                  const   marker = new kakao.maps.Marker({
                          position: position, // ÎßàÏª§Ïùò ÏúÑÏπò
                          image: markerImage 
                      });
                  marker.setMap(kakaoMap); // ÏßÄÎèÑ ÏúÑÏóê ÎßàÏª§Î•º ÌëúÏ∂úÌï©ÎãàÎã§
                  markers.push(marker);  // Î∞∞Ïó¥Ïóê ÏÉùÏÑ±Îêú ÎßàÏª§Î•º Ï∂îÍ∞ÄÌï©ÎãàÎã§

                  return marker;
            }

            // ÏßÄÎèÑ ÏúÑÏóê ÌëúÏãúÎêòÍ≥† ÏûàÎäî ÎßàÏª§Î•º Î™®Îëê Ï†úÍ±∞Ìï©ÎãàÎã§
            function removeMarker() {
                  for ( var i = 0; i < markers.length; i++ ) {
                      markers[i].setMap(null);
                  }   
                  markers = [];
            }


            // Í≤ÄÏÉâÍ≤∞Í≥º Î™©Î°ù ÎòêÎäî ÎßàÏª§Î•º ÌÅ¥Î¶≠ÌñàÏùÑ Îïå Ìò∏Ï∂úÎêòÎäî Ìï®ÏàòÏûÖÎãàÎã§
            // Ïù∏Ìè¨ÏúàÎèÑÏö∞Ïóê Ïû•ÏÜåÎ™ÖÏùÑ ÌëúÏãúÌï©ÎãàÎã§
            function displayMinInfo(marker, title) {
                  
                  const content = '<div style="padding:5px;z-index:1;">' + title + '</div>';
                  infowindow.setContent(content);
                  infowindow.open(kakaoMap, marker);
            }

            // Í≤ÄÏÉâÍ≤∞Í≥ºÏôÄ Ïó∞Í¥ÄÎêú Ï∞ΩÏùÑ Îõ∞Ïö∞Îäî Ïó≠Ìôú
            function displayInfo(marker, place) {
               $('#info_display').css('right','0%')
               $('#info-title').text(place.place_name)
               $('#adress').text(place.address_name)
               $('#phone').text(place.phone)
               $('#main-info-img').attr('href', place.place_url);

            }
            
            

            //ÏòàÏïΩ Í¥ÄÎ†®Ïù¥Î≤§Ìä∏
   
            let date = new Date();
            let month = date.getMonth();
            let year = date.getFullYear();
            
            let startDate =null
            let endDate =null
          
            const months = [
                'January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'
            ];

            function renderCalendar() {
                $('#calendar-body').empty();
                $('#month-year').text(`${months[month]} ${year}`);

                const firstDayOfMonth = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();

                for (let i = 0; i < firstDayOfMonth; i++) {
                  $('#calendar-body').append(createEmptyDay());
                }

                for (let i = 1; i <= daysInMonth; i++) {
                  $('#calendar-body').append(createDay(i));
                }

                if(startDate != null)
                {
                  $("#check_in").val(`${startDate.getFullYear()}-${startDate.getMonth() +1}-${startDate.getDate()}`)
                }
                if(endDate != null)
                {
                  $("#check_out").val(`${endDate.getFullYear()}-${endDate.getMonth() +1}-${endDate.getDate()}`)
                }
            }

            function createEmptyDay() {
                return $('<div>').addClass('day');
            }

            function createDay(day) {
                const div = $('<div>')
                    .addClass('day')
                    .text(day)
                    .on('click',bookingDay);
                let selectedDate = new Date(year, month, day); // Corrected this part
                if (startDate != null && endDate != null && 
                      startDate <= selectedDate && selectedDate <= endDate) {
                      div.addClass('booked');
                }
                return div
            }

            function bookingDay(){

                $(this).addClass('booked')
                if (startDate == null) {
                    startDate = new Date(year, month, $(this).text());
                } else {
                    endDate = new Date(year, month, $(this).text());
                    if (startDate > endDate) {
                        let temp = startDate;
                        startDate = endDate;
                        endDate = temp;
                    }
                }
                console.log(startDate)
                console.log(endDate)
                renderCalendar()
            }

            
           //Í∞ÅÏ¢Ö Ïù¥Î≤§Ìä∏Î≥ÄÏàò Ï¥àÍ∏∞Ìôî
           initalize_val = ()=>{
            date = new Date();
            month = date.getMonth();
            year = date.getFullYear();
            startDate =null
            endDate =null
           }
            

            

            
            //reset button Ïù¥Î≤§Ìä∏
            $('#reset').on('click',function() {
              $(this).addClass('rotate_click');
              $(this).removeClass('rotate_hover');
              setTimeout(() => {
                    $(this).removeClass('rotate_click');
                    $(this).addClass('rotate_hover');
              }, 2000);
            })

            //toggle button Ïù¥Î≤§Ìä∏
            $('#switchDO').on('click',function() {
                 if(swich_flag =='Korea'){
                  swich_flag='Forigin'
                 }
                 else{
                   swich_flag= 'Korea'
                 }
                
                let newCategory = '';
                for (let i = 0; i < categoryData[swich_flag].length; i++) {
                  newCategory += `<li class="nav-item map-nav-item"><p>${categoryData[swich_flag][i]}</p></li>`;
                }
             
                 $('#navCategory').animate({ opacity: 0 }, 200, function() {
                    $('#nevCategory').empty()
                    const newHeight = categoryData[swich_flag].length * 45;
                    $('#nevCategory').animate({ height: `${newHeight}px` }, 300, function() {
                      $('#nevCategory').append(newCategory).animate({ opacity: 1 }, 200);
                    })
                   
                });
            })

            // nevCategory Ïù¥Î≤§Ìä∏
            $('#navCategory .nav-item').on('click', function() {
                const id = $(this).attr('id');

                // ÏÉàÎ°úÏö¥ Ìï≠Î™©Îì§ÏùÑ ÏÉùÏÑ±ÌïòÏó¨ ÏûÑÏãú Î≥ÄÏàòÏóê Ï†ÄÏû•
                let newOptions = '';
                for (let i = 0; i < optionData[id].length; i++) {
                  newOptions += `<li class="nav-item map-nav-item"><p>${optionData[id][i]}</p></li>`;
                }

                // nevOptionÏùò ÏûêÏãù ÏöîÏÜåÎì§ÏùÑ Ïà®Í∏∞Í≥† ÏÉàÎ°úÏö¥ Ìï≠Î™©Îì§ÏùÑ Ìà¨Î™ÖÎèÑ Ïï†ÎãàÎ©îÏù¥ÏÖòÏúºÎ°ú ÎÇòÌÉÄÎÇòÍ≤å Ìï®
                $('#nevOption').animate({ opacity: 0 }, 200, function() {
                    $('#nevOption').empty()
                    const newHeight = optionData[id].length * 50;
                    $('#nevOption').animate({ height: `${newHeight}px` }, 300, function() {
                      $('#nevOption').append(newOptions).animate({ opacity: 1 }, 200);
                      $('#nevOption .nav-item').on('click',nevOptionItemFun)
                    })
                   
                });

                // ÏÉàÎ°úÏö¥ ÏöîÏÜåÎì§Ïù¥ Ï∂îÍ∞ÄÎêú ÌõÑÏóê ÎÜíÏù¥Î•º Í≥ÑÏÇ∞ÌïòÏó¨ ÏÑ§Ï†ï
                
              });
            
            
            //navOption item  Ïù¥Î≤§Ìä∏Îì±Î°ù
            $('#nevOption .nav-item').on('click',nevOptionItemFun)
            
            //serch Ïù¥Î≤§Ìä∏ Îì±Î°ù
            $('#serch').on('click' ,serchingData )

            //enter Ïù¥Î≤§Ìä∏ Îì±Î°ù
            $('#serchBar').keypress( function(event) {
                if (event.which == 13) { // 13ÏùÄ Enter ÌÇ§Ïùò ÌÇ§ ÏΩîÎìúÏûÖÎãàÎã§.
                    event.preventDefault();
                    serchingData()
                }
            });
            

            //ÌïúÏ§ÑÌèâ Îã§Î•∏ ÏÇ¨ÎûåÎì§Í±∞ Î≥¥Ïù¥Í≤å
            $('#commentBar').on('click', function(){
              if($('#info_conent').find('#comment_area').length == 0)
              {

                $('#info_conent').empty()
                const content = `<ul class='p-4' id="comment_area"></ul>`
                $('#info_conent').append(content)
                
                /*test*/
                for (let index = 0; index < 30; index++) {
                  $('#comment_area').append(`<li><p>MAN${index}: TEST${index}</p></ul>`)
                }

                initalize_val()
               
              }
            })

            //Í∏ÄÏì∞Í∏∞ Í∞ÑÎã®Ìïú ÌéòÏù¥ÏßÄ
            $('#edit_card').on('click', function(){
              if(!$('#info_conent').hasClass('#card_area'))
              {
                $('#info_conent').empty()
                $('#info_conent').push()

                initalize_val()
              }

              

            })
            
            //ÏòàÏïΩ Í∞ÑÎã®Ìïú ÌéòÏù¥ÏßÄ
            $('#booking').on('click', function(){
              if(!$('#info_conent').hasClass('#booking_area'))
              {
                $('#info_conent').empty()
                const content = `<div class="d-flex flex-column" id="booking_area">
            <div class="d-flex " id="booking_input">
             <div class="bookingInputArea" >
                  <input type="text"  class="calendar-button" id="check_in" placeholder="Ï≤¥ÌÅ¨Ïù∏" style ='width:200px' readonly>
             </div>
             <div class="bookingInputArea" >
               <input type="text" class="calendar-button" id="check_out"  placeholder="Ï≤¥ÌÅ¨ÏïÑÏõÉ" style ='width:200px' readonly>
             </div>
             <div class="bookingInputArea" >
               <input type="text" class="manInfo-button" id="men_info"  placeholder="Ïù∏Ïõê Ï†ïÎ≥¥" style ='width:150px'>
             </div>

            </div>

            <div id="book_calender" class="" >
              <div class="container mt-4">
                <div id="calendar-wrapper" class="border rounded p-3" style='background-color: #FFF' >
                    <div id="calendar-header" class="d-flex justify-content-between align-items-center mb-3">
                        <button id="prev" class="btn btn-secondary">Previous</button>
                        <h2 id="month-year" class="mb-0"></h2>
                        <button id="next" class="btn btn-secondary">Next</button>
                    </div>
                    <div id="calendar-days" class="d-flex justify-content-between mb-2">
                        <div class="day-name">Sun</div>
                        <div class="day-name">Mon</div>
                        <div class="day-name">Tue</div>
                        <div class="day-name">Wed</div>
                        <div class="day-name">Thu</div>
                        <div class="day-name">Fri</div>
                        <div class="day-name">Sat</div>
                    </div>
                    <div id="calendar-body" class="">
                        <!-- Calendar dates will be inserted here by JavaScript -->
                    </div>
                </div>
              </div>
            </div>

            <div id="book_human" class="">
              <div class="container mt-4">
                <div id="calendar-wrapper" class="border rounded p-3" ;'>
                       

                </div>
              </div>   
                
            </div>

          </div>`
                $('#info_conent').append(content)
                
                //Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î∞ïÏïÑ ÎÑ£Í∏∞
                $('.calendar-button').on('click' , function(){
                  if(!$('#book_calender').hasClass('active')){
                  $('#book_calender').addClass('active')
                  $("#book_human").removeClass('active')
                  }
                })
                //Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î∞ïÏïÑ ÎÑ£Í∏∞
                $('.manInfo-button').on('click' , function(){
                  $('#book_calender').removeClass('active')
                  $("#book_human").addClass('active')
                })
                //
                $('#prev').on('click', function () {
                    month--;
                    if (month < 0) {
                        month = 11;
                        year--;
                    }
                    renderCalendar();
                });
                //
                $('#next').on('click', function () {
                    month++;
                    if (month > 11) {
                        month = 0;
                        year++;
                    }
                    renderCalendar();
                });
                initalize_val()
                renderCalendar()
                

              }



            })
            



            })
    
       
    </script>
